(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[7],{"8b24":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-page",{class:!0===e.$q.platform.is.desktop?"q-pa-md":"q-pa-xs"},[a("div",{directives:[{name:"show",rawName:"v-show",value:!0===e.$q.platform.is.desktop,expression:"$q.platform.is.desktop === true"}],staticClass:"row q-col-gutter-sm q-pb-md items-center"},[a("div",{staticClass:"col-xs-12 col-sm-6 col-md-3"},[a("q-select",{attrs:{tabindex:"0",clearable:"","use-input":"","hide-selected":"","fill-input":"","input-debounce":"0",color:"orange",options:e.appNameOptions,size:"md",label:"App name"},on:{input:e.updatedProfilerByAppName,filter:e.filterFnAutoselect,"filter-abort":e.abortFilterFn},model:{value:e.curAppName,callback:function(t){e.curAppName=t},expression:"curAppName"}})],1),a("div",{staticClass:"col"},[a("q-select",{attrs:{tabindex:"1",clearable:"",color:"orange",options:e.metricsOptions,size:"md",label:"Type"},on:{input:e.loadMetricsByType},model:{value:e.curMetricType,callback:function(t){e.curMetricType=t},expression:"curMetricType"}})],1),a("div",{staticClass:"col-xs-12 col-sm-6 col-md-5"},[a("div",{staticClass:"row q-col-gutter-xs items-center"},[a("q-select",{directives:[{name:"show",rawName:"v-show",value:"Profiler"===e.curMetricType,expression:"curMetricType==='Profiler'"}],staticClass:"col-8",attrs:{tabindex:"2",clearable:"",color:"orange",options:e.profilerApiList,size:"md",label:"Choose api"},model:{value:e.curApiName,callback:function(t){e.curApiName=t},expression:"curApiName"}}),a("q-select",{staticClass:"col",attrs:{tabindex:"3",clearable:"",color:"orange",options:e.metricByTypeOpt,size:"md",label:"Choose metric"},model:{value:e.curMetric,callback:function(t){e.curMetric=t},expression:"curMetric"}})],1)]),a("div",{staticClass:"col"},[a("q-toggle",{staticClass:"float-right",attrs:{tabindex:"4",color:"green",label:"Legend"},model:{value:e.showLegend,callback:function(t){e.showLegend=t},expression:"showLegend"}})],1),a("div",{staticClass:"col"},[a("q-btn-toggle",{staticClass:"my-custom-toggle float-right",attrs:{tabindex:"5","no-caps":"",rounded:"",unelevated:"",glossy:"","toggle-color":"orange","toggle-text-color":"white",color:"white","text-color":"primary",size:"md",options:[{label:"By day",value:"one"},{label:"Time range",value:"two"}]},model:{value:e.showType,callback:function(t){e.showType=t},expression:"showType"}})],1)]),a("div",{class:!0===e.$q.platform.is.desktop?"row q-col-gutter-sm justify-center":"column q-col-gutter-xs justify-center"},e._l(8,(function(t){return a("div",{key:t,staticClass:"col-xs-12 col-sm-6 col-md-3"},[a("apex-line",{attrs:{"chart-id":t+1,"chart-group":e.groupSocial,bgColorCard:e.colors[t-1]}})],1)})),0),a("div",{staticClass:"row q-col-gutter-md q-px-md q-py-md"}),a("q-page-scroller",{attrs:{position:"bottom-right","scroll-offset":150,offset:[18,18]}},[a("q-btn",{attrs:{fab:"",icon:"keyboard_arrow_up",color:"accent"}})],1)],1)},r=[],i=a("2b0e"),s=a("2fe1"),l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("card-base",[a("apexchart",{ref:"realtimeChart",attrs:{type:"line",height:"250",options:e.buildChartOptions(),series:e.series}})],1)},n=[],c=a("60a3"),p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-card",{staticClass:"my-card",style:{backgroundImage:e.bgColor}},[a("q-card-section",{staticStyle:{padding:"5px"}},[e._t("default")],2)],1)},d=[],u=function(e,t,a,o){var r,i=arguments.length,s=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,a):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,a,o);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s};let h=class extends c["c"]{};u([Object(c["b"])({default:""})],h.prototype,"bgColor",void 0),h=u([c["a"]],h);var m=h,f=m,g=a("2877"),b=Object(g["a"])(f,p,d,!1,null,null,null),y=b.exports,v=function(e,t,a,o){var r,i=arguments.length,s=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,a):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,a,o);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s};let w=class extends c["c"]{constructor(){super(...arguments),this.series=[{name:"Desktops",data:[10,41,35,51,49,62,69,91,99]},{name:"Android",data:[4,23,20,51,67,45,75,102,120]},{name:"IOS",data:[8,23,30,45,87,75,90,127,134]}]}mounted(){this.setDataLineChart()}beforeDestroy(){clearInterval(this.updateSeriesInterval)}getRandomArbitrary(){return Math.floor(99*Math.random())}setDataLineChart(){this.updateSeriesInterval=setInterval(()=>{this.series[0].data.splice(0,1),this.series[0].data.push(this.getRandomArbitrary()),this.series[1].data.splice(0,1),this.series[1].data.push(this.getRandomArbitrary()),this.series[2].data.splice(0,1),this.series[2].data.push(this.getRandomArbitrary()),this.updateSeriesLine()},5e3)}updateSeriesLine(){this.$refs.realtimeChart.updateSeries([{data:this.series[0].data},{data:this.series[1].data},{data:this.series[2].data}],!1,!0)}buildChartOptions(){let e={theme:{mode:"light",palette:"palette1"},chart:{id:this.chartId,group:this.chartGroup,height:350,type:"line",toolbar:{show:!0,tools:{download:!0,selection:!1,zoom:!0,zoomin:!0,zoomout:!0,pan:!1,reset:!0,customIcons:[{icon:'<img src="https://img.icons8.com/plasticine/100/000000/download-2.png" width="20">',index:3,title:"tooltip of the icon",class:"custom-icon",click:function(){}}]}}},grid:{show:!0,strokeDashArray:0,xaxis:{lines:{show:!0}}},stroke:{curve:"smooth",width:2},dropShadow:{enabled:!0,opacity:.3,blur:5,left:-7,top:22},dataLabels:{enabled:!1},title:{text:"Line",align:"left",style:{color:"#131413"}},xaxis:{categories:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep"],labels:{style:{colors:"#a35822"}}},yaxis:{labels:{minWidth:40,style:{color:"#FCCF31"}}},responsive:[{breakpoint:1e3,options:{legend:{showForSingleSeries:!0,position:"bottom"},theme:{mode:"light",palette:"palette6"}}}]};return e}};v([Object(c["b"])()],w.prototype,"chartId",void 0),v([Object(c["b"])()],w.prototype,"chartGroup",void 0),w=v([Object(c["a"])({components:{CardBase:y}})],w);var x=w,A=x,O=Object(g["a"])(A,l,n,!1,null,null,null),_=O.exports,C=function(e,t,a,o){var r,i=arguments.length,s=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,a):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,a,o);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s};const q="hmlOi9AsrM2nOEByk-Iu7wDphURSnBKFvaZFxjFaemRORBRXnxs3GDu2rx7sfCPFZ17PhOAtZqgC6EkbY9FqHPX7nDMPrPONYKcIsCdyZoRyJ_ly-kE95VSoXCdEc-aRdaNOkQ7WqaNDJw2a__BQ0wa6ywMqnkP0pHJGmTIvp7AqHOtfdQ3iKEe9WuZYlUnW_osA-us4n7-KMl3NuUhBNCWEYkFYg9DWhrsYsxtTloQh5uwtgfBzHOeq-TgdrR8BrZf8rkcXD6JLAHsNzuqNFyOVJV-Uq2Djyb49lRQjwwg9DxTqbTxQy91__0gCcV-Gkbpn5TwKyfMCKlzTzkpnffyAXLEODb9Nb9g4RW",N=["Profiler","TServers","HServers","ComWorker","ZExecutors"],k=[{name:"Profiler",value:["proc_rate","req_rate","peek_rate","pending_req","peek_pending","proc_time","peek_time"]},{name:"TServers",value:["n_waiting","n_active","n_idle","n_largest","buffer_alloc","frame_size_count"]},{name:"HServers",value:["n_waiting","n_active","n_idle"]},{name:"ComWorker",value:["in_rate","out_rate","in_packet","out_packet"]},{name:"ZExecutors",value:["n_waiting","n_active","n_idle","n_largest","n_uncomplete","n_reject"]}];let T=class extends i["default"]{constructor(){super(...arguments),this.colors=["linear-gradient( 135deg, #ABDCFF 10%, #0396FF 100%)","linear-gradient( 135deg, #2AFADF 10%, #4C83FF 100%)","linear-gradient( 135deg, #FFD3A5 10%, #FD6585 100%)","linear-gradient( 135deg, #EE9AE5 10%, #5961F9 100%)"],this.groupSocial="social",this.curAppName="",this.curApiName="",this.curMetric="",this.showLegend=!0,this.curMetricType=N[0],this.showType="two",this.appNameOptions=[],this.appNameList=[],this.metricsOptions=N,this.profilerApiList=[],this.metricByTypeOpt=[]}mounted(){this.loadAppNameList().then(()=>{this.updatedProfilerByAppName(this.curAppName)}),this.loadMetricsByType(this.curMetricType)}beforeDestroy(){clearInterval(this.filterFnAutoselectInterval)}loadAppNameList(){return this.$axios.get("https://monitor.zaloapp.com/api/monitor-profiler/get-all-app-name",{headers:{"content-Type":"application/json",oauthCode:`Bearer ${q}`}}).then(e=>{this.appNameOptions=e.data.data.result,this.appNameList=this.appNameOptions,this.curAppName=this.appNameOptions[0]}).catch(()=>{this.$q.notify({color:"negative",position:"top",message:"Loading failed",icon:"report_problem"})})}loadProfilerApiList(e){return this.$axios.get("https://monitor.zaloapp.com/api/monitor-profiler/get-all-profiler-by-app-name?appName="+e,{headers:{"content-Type":"application/json",oauthCode:`Bearer ${q}`}}).then(e=>{const t=e.data.data.result;this.profilerApiList=t.map(e=>e.name),this.curApiName=this.profilerApiList[0]}).catch(()=>{this.$q.notify({color:"negative",position:"top",message:"Loading failed",icon:"report_problem"})})}loadMetricsByType(e){void 0!==e&&""!==e&&null!==e&&(this.metricByTypeOpt=k.filter(t=>t.name===e).flatMap(e=>e.value),this.curMetric=this.metricByTypeOpt[0])}filterFnAutoselect(e,t,a){this.filterFnAutoselectInterval=setTimeout(()=>{t(()=>{if(""===e)this.appNameOptions=this.appNameList;else{const t=e.toLowerCase();this.appNameOptions=this.appNameList.filter(e=>e.toLowerCase().indexOf(t)>-1)}},t=>{""!==e&&t.options.length>0&&-1===t.optionIndex&&(t.moveOptionSelection(1,!0),t.toggleOption(t.options[t.optionIndex],!0))})},300)}abortFilterFn(){}updatedProfilerByAppName(e){void 0!==e&&""!==e&&null!==e&&this.loadProfilerApiList(e)}};T=C([Object(s["b"])({components:{ApexLine:_}})],T);var F=T,L=F,j=Object(g["a"])(L,o,r,!1,null,null,null);t["default"]=j.exports}}]);