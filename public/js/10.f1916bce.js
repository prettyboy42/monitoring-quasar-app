(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[10],{"013f":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-page",{staticClass:"docs-input row justify-center"},[s("q-card",{staticClass:"col-xl-4 col-lg-6 col-md-6 col-sm-12 col-xs-12 q-pa-xl dark"},[s("q-card-section",{staticClass:"text-center",staticStyle:{color:"white"}},[s("img",{attrs:{src:"https://stc-zaloprofile.zdn.vn/pc/v1/images/logo.svg",width:"130em"}}),s("p",{staticClass:"q-display-1 text-weight-bolder q-pt-lg",domProps:{textContent:t._s(t.$t("login.title"))}},[t._v("Quasar + Hello.js")])]),s("q-card-section",[s("div",{staticClass:"q-mt-xl q-gutter-md"},[s("q-btn",{staticClass:"full-width",attrs:{color:"primary",glossy:"",push:"",label:"Login with Zalo",size:"md"},on:{click:t.onClickZaloLoginFn}}),s("q-btn",{staticClass:"full-width",attrs:{color:"default",glossy:"",push:"",icon:"fab fa-facebook-f",label:"Login with Facebook",size:"md"},on:{click:function(e){return t.auth("facebook")}}})],1)])],1)],1)},i=[],o=s("9ab4"),l=s("60a3"),n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-dialog",{ref:"myDialog",on:{hide:t.onDialogHide}},[s("q-card",{staticStyle:{"min-height":"300px",width:"100%"}},[s("transition",{attrs:{appear:"","enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"}},[s("q-card-section",{staticClass:"row items-center"},[s("iframe",{directives:[{name:"show",rawName:"v-show",value:t.showSimulatedReturnData,expression:"showSimulatedReturnData"}],attrs:{width:"100%",height:"705",frameborder:"0",src:t.oauthUrl},on:{load:t.handleOnLoadIframeFn}})])],1),s("q-inner-loading",{attrs:{showing:t.visible}},[s("q-spinner-ios",{attrs:{size:"50px",color:"yellow"}})],1)],1)],1)},r=[],c=s("482a"),h=s("4bb5"),d=s("85ee");let u=class extends l["d"]{constructor(){super(...arguments),this.oauthUrl=`https://oauth.zaloapp.com/v3/permission?app_id=${d["c"].appId}&redirect_uri=${d["c"].redirectUri}&state=${d["c"].state}`,this.visible=!0,this.showSimulatedReturnData=!1}toggleOnSpinner(){this.visible=!0,this.showSimulatedReturnData=!1}toggleOffSpinner(){this.visible=!1,this.showSimulatedReturnData=!0}created(){this.toggleOnSpinner()}show(){this.$refs.myDialog.show()}hide(){this.$refs.myDialog.hide()}onDialogHide(){this.$emit("hide")}onOKClick(){this.$emit("ok"),this.hide()}onCancelClick(){this.hide()}handleOnLoadIframeFn(t){const e=c["a"].getOauthCode();e?this.$axios.get("https://monitor.zaloapp.com/api/users/getUserInfoAfterAuthen",{headers:{oauthCode:`Bearer ${e}`}}).then(t=>{this.saveUserInfo(t.data.user),this.onOKClick()}).catch(t=>{console.log("error while call api. err:"+t)}).finally(()=>{this.toggleOffSpinner()}):this.toggleOffSpinner()}};Object(o["b"])([Object(h["a"])("saveUserInfo")],u.prototype,"saveUserInfo",void 0),u=Object(o["b"])([l["a"]],u);var p=u,f=p,g=s("2877"),m=Object(g["a"])(f,n,r,!1,null,null,null),w=m.exports;let b=class extends l["d"]{created(){this.checkRedirect()}auth(t){this.$hello(t).login({scope:"friends"}).then(()=>{this.$router.push("profile")})}onClickZaloLoginFn(t){this.$q.dialog({component:w,parent:this,text:"Hello"}).onOk(()=>{this.$router.push("/"),this.$q.notify({color:"green-4",textColor:"white",icon:"fas fa-check-circle",message:"Login successully"})}).onCancel(()=>{console.log("Cancel")}).onDismiss(()=>{console.log("Called on OK or Cancel")})}checkRedirect(){const t=this.$route.query,e=t.oauthCode;e&&c["a"].saveOauthCode(e)}};b=Object(o["b"])([l["a"]],b);var v=b,C=v,O=(s("6939"),Object(g["a"])(C,a,i,!1,null,"4e4df540",null));e["default"]=O.exports},6939:function(t,e,s){"use strict";var a=s("92bd"),i=s.n(a);i.a},"92bd":function(t,e,s){}}]);